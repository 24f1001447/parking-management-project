{% extends "layout.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}
  <h2>Admin Dashboard</h2>

  <a href="{{ url_for('create_lot') }}" class="btn btn-success mb-3">Create New Parking Lot</a>
  <a href="{{ url_for('all_reservations') }}" class="btn btn-primary mb-3">View All Reservations</a>


  <h4>Existing Parking Lots:</h4>

  {% if lots %}
    <ul class="list-group">
      {% for lot in lots %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ lot.name }}</strong> - {{ lot.address }} ({{ lot.pin }}) |
            â‚¹{{ lot.price }}/hour - {{ lot.max_spots }} spots
          </div>
          <div>
            <a href="{{ url_for('edit_lot', lot_id=lot.id) }}" class="btn btn-warning btn-sm me-2">Edit</a>
            <a href="{{ url_for('delete_lot', lot_id=lot.id) }}" class="btn btn-danger btn-sm"
               onclick="return confirm('Are you sure you want to delete this parking lot?');">Delete</a>
            <a href="{{ url_for('view_spots', lot_id=lot.id) }}" class="btn btn-info btn-sm">View Spots</a>
   
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted">No parking lots available.</p>
  {% endif %}
{% endblock %}

